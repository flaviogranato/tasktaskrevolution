{% extends "base.html" %} {% block title %}Resources{% endblock title %} {%
block content %}
<section>
    <h2>All Resources ({{ resources | length }})</h2>
    <div class="list-container">
        {% if resources %}
        <ul>
            {% for resource in resources %}
            <li>
                <strong><a href="resources/{{ resource.name | replace(from=" ", to="_") | lower }}.html">{{ resource.name }}</a></strong> - {{ resource.resource_type
                }} {% if resource.email %}
                <div class="email">Email: {{ resource.email }}</div>
                {% endif %} {% if resource.vacations and resource.vacations |
                length > 0 %}
                <div class="vacations">
                    <h4>Absences & Vacations:</h4>
                    <ul>
                        {% for period in resource.vacations %}
                        <li>
                            <strong>{{ period.period_type }}</strong>: {{
                            period.start_date | date(format="%Y-%m-%d") }} - {{
                            period.end_date | date(format="%Y-%m-%d") }} {% if
                            period.approved %}
                            <span class="status-approved">(Approved)</span>
                            {% else %}
                            <span class="status-pending">(Pending)</span>
                            {% endif %}
                        </li>
                        {% endfor %}
                    </ul>
                </div>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p>No resources have been created yet.</p>
        {% endif %}
    </div>
</section>
{% endblock content %} {% block scripts %}
<style>
    .email {
        font-size: 0.9em;
        color: #777;
        padding-left: 10px;
    }
    .vacations {
        margin-top: 10px;
        padding: 10px;
        background-color: #f9f9f9;
        border-radius: 4px;
        border: 1px solid #eee;
    }
    .vacations h4 {
        margin-top: 0;
        margin-bottom: 8px;
        font-size: 1em;
        color: #333;
        border-bottom: 1px solid #e0e0e0;
        padding-bottom: 5px;
    }
    .vacations ul {
        list-style-type: none;
        padding-left: 0;
    }
    .vacations li {
        padding: 4px 0;
        font-size: 0.95em;
    }
    .status-approved {
        color: #27ae60;
        font-weight: bold;
    }
    .status-pending {
        color: #f39c12;
        font-weight: bold;
    }
</style>
{% endblock scripts %}
