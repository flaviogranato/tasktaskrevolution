{% extends "base.html" %} {% block title %} Dashboard - {{ super() }} {%
endblock title %} {% block content %}
<section>
    <h2>Project Dashboard</h2>

    <div class="summary-cards">
        <div class="card">
            <h3>Total Tasks</h3>
            <p class="count">{{ tasks | length }}</p>
        </div>
        <div class="card">
            <h3>Total Resources</h3>
            <p class="count">{{ resources | length }}</p>
        </div>
    </div>

    <div class="dashboard-lists">
        <div class="list-container">
            <h3>Recent Tasks</h3>
            {% if tasks %}
            <ul>
                {% for task in tasks | slice(end=10) %}
                <li>
                    <strong>{{ task.name }} ({{ task.code }})</strong>
                    <div class="details">
                        Status: {% if task.status.InProgress is defined %}In Progress ({{ task.status.InProgress.progress }}%)
                        {% elif task.status.Blocked is defined %}Blocked: {{ task.status.Blocked.reason }}
                        {% elif task.status == "Planned" %}Planned
                        {% elif task.status == "Completed" %}Completed
                        {% elif task.status == "Cancelled" %}Cancelled
                        {% else %}Unknown{% endif %}
                    </div>
                </li>
                {% endfor %}
            </ul>
            {% else %}
            <p>No tasks have been created yet.</p>
            {% endif %}
        </div>
        <div class="list-container">
            <h3>Resources</h3>
            {% if resources %}
            <ul>
                {% for resource in resources %}
                <li>
                    <strong><a href="resources/{{ resource.name | replace(from=" ", to="_") | lower }}.html">{{ resource.name }}</a></strong> - {{
                    resource.resource_type }}
                </li>
                {% endfor %}
            </ul>
            {% else %}
            <p>No resources have been created yet.</p>
            {% endif %}
        </div>
    </div>
</section>
{% endblock content %} {% block scripts %}
<style>
    .dashboard-lists {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        gap: 30px;
    }
    .details {
        font-size: 0.9em;
        color: #555;
        padding-left: 10px;
    }
</style>
{% endblock scripts %}
